language: node_js

node_js:
    - "10"
    - "8"
    - "6"

install:
    - yarn

before_script:
    - yarn run pretest

script:
    - travis_retry yarn test-travis
    - travis_retry yarn bundlesize

after_script:
    - yarn run posttest
jobs:
    include:
        - stage: npm release
          node_js: "8"
          script: yarn release-travis

env:
    global:
        - secure: "fLw5Qa106+dCtzZvxO3QrHYdwbtw8zD7DZyYRaav2GWiyJ9/mo3AVjsXoOg8Zwm/17P/VYAa+gey1w/U6FpONA+TfckIE6W3HsxO2cZaSlaMEp4DnQWWvVs4A5MUt2E/xa1S3TkyGjVmLDg0ttXgBpDeVd2lw4M7gODXL2IL1bwecwRwx+P83VrH5kOxBsD+nQ7zNQFt9CX4BGqoYTbbrpOXPWQ58MWBT3SOPAyQeCw3P36fec6Uvfm6PZ5JdZ5IhXlI5pYlOjkidHyQDsWNmZO/H1CszyP60sQKWw6TsCRyZ/dPPs5WZt6zCtu/nR3wilyIK/1ySEcNtpS8ZpGXTczeBcdC6oRDv/bk5yN+AHYFq7KxeGdHelOeqCFO4cJmcyFihLPFfyBcEsKAFAw2K/iNrbcLbnYlkVXQpkEDECTe/jIQQLH6fstyTonQgYX3cgqhCQcw09EqqCwxK41DMHqFdk0wXZaL10JJ9zH+x5rnwGfI1hqbYDmQGEyO6VuGAw07uA3T3HvdwDEkUQyiC5I81UjZg0zQVemmyqePm+JeqrzMRhGdzI4p+ST2XDeLx8CrGvbMmyamnotdDOtS1PTsJCJ4ti4ynq7eLo0CHfz7UnMDZcLhF1/BvYIrGYFaE9Y7iqRXvh44c/X1AaqtDE63mXItfWwdtB687ZZWpis="
        - secure: "T7nzcGzLkF471OZwLilzfT1oZr+DmS1n8OwSG+pFs2jSZytYxub+6mxwwn03/nnAi9LG7WQF9elursMXQT5dZfIyd2VXWlyOy91/53Wrr6SkBsrxUQUcd7l/MiQaI4dzG/ev52hFLF2Fc9zN3njAvigg8FIJMaPX2nun7Vn520gZ42ED0tdSd4tkwGMku8mXxsbGhd1EJcLw4HWBV9118c/05xuSFU8gTKIcjj1phJbDNiANyk41DXfgTSgN4pahnWqzPByxolbRmpHfHfTJN2NvDJJ1IM7UlcoDXvNaRn0IeR/QfVROGqWN2KiB9j1XoXQmF9ibmv4w9unr60I0aRGBxSBdxoJ7vQmf9vhJ4r96jCEGT9Y1iFWeiJBLppmqvv5Cnw2Eacc8jD5Z8ph9+7+j2mRZC3pINzEnXZ8OSldmKIqmeaja3Bpg5bIX8GWQZKlXtbTAzPteLFiBVYOv4kqig/J8A/RsTpqk+1G/UkXYc3q0A8RaTn6hFpM+YBX6YKmBvg5Uj6KBN/QQeM1eBCnpffqfD6GOu23ES5FOOU/X385M0rPPwcyMpqYb6+52TtXkI0fJXHfwlZ7r1TyrG1jIX1z/A3Vyeuh2sQXKrBa/d0fh0H/ipS2jGrzCW7Bv7ud9KSSE3m46GJq+qdLY3qt0r42FTLMC5e2nhWU2VLI="
